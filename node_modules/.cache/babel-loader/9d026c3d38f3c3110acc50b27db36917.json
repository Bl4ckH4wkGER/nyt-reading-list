{"ast":null,"code":"import _classCallCheck from\"/Users/sven/course2-finalProjectJSCRIPT300A/nyt-reading-list/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sven/course2-finalProjectJSCRIPT300A/nyt-reading-list/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/sven/course2-finalProjectJSCRIPT300A/nyt-reading-list/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/sven/course2-finalProjectJSCRIPT300A/nyt-reading-list/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';var Articles=/*#__PURE__*/function(_React$Component){_inherits(Articles,_React$Component);var _super=_createSuper(Articles);function Articles(){var _this;_classCallCheck(this,Articles);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={queryValue:'',results:[],numberOfResults:'',resultsLoading:true};_this.queryValueEntryChange=function(e){_this.setState({queryValue:e.target.value});};_this.searchQuery=function(e){e.preventDefault();fetch(\"https://api.nytimes.com/svc/search/v2/articlesearch.json?q=\".concat(_this.state.queryValue,\"&api-key=\").concat(process.env.REACT_APP_NYT_API_KEY)).then(function(res){return res.json();}).then(function(data){return _this.setState({results:data,numberOfResults:data.response.meta.hits,resultsLoading:false});});};_this.searchResults=function(){return _this.state.resultsLoading?/*#__PURE__*/React.createElement(\"div\",{className:\"searchResultsLoading\"},\"Please complete the search above to display a list of results.\"):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",{className:\"page-sub-heading\"},\"Results:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"query-info\"},\"There are \",_this.state.numberOfResults,\" for the term \\\"\",_this.state.queryValue,\"\\\".\"),/*#__PURE__*/React.createElement(\"div\",{className:\"search-results\"},_this.state.results.response.docs.map(function(document,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,id:\"\".concat(_this.state.queryValue).concat(index),className:\"article-container\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"article-headline\"},document.headline.main),/*#__PURE__*/React.createElement(\"h4\",{className:\"article-author\"},\"by \",document.byline.original),/*#__PURE__*/React.createElement(\"p\",{className:\"article-abstract\"},document.abstract),/*#__PURE__*/React.createElement(\"a\",{className:\"article-link\",href:document.web_url,target:\"_blank\",rel:\"noopener noreferrer\"},\"Read the full article\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{className:\"article-add-button\",id:\"addBtn\".concat(_this.state.queryValue).concat(index)},\"Add to List\"));})));};return _this;}_createClass(Articles,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",{className:\"page-heading\"},\"Articles\"),/*#__PURE__*/React.createElement(\"h2\",null,\"Add a keyword below:\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.searchQuery},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"keyword\"},\"Keyword: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"keyword\",name:\"keyword\",placeholder:\"election\",value:this.state.entry,onChange:this.queryValueEntryChange,required:true}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Submit\"})),/*#__PURE__*/React.createElement(\"div\",null,this.searchResults()));}}]);return Articles;}(React.Component);export{Articles as default};","map":{"version":3,"sources":["/Users/sven/course2-finalProjectJSCRIPT300A/nyt-reading-list/src/articles.js"],"names":["React","Articles","state","queryValue","results","numberOfResults","resultsLoading","queryValueEntryChange","e","setState","target","value","searchQuery","preventDefault","fetch","process","env","REACT_APP_NYT_API_KEY","then","res","json","data","response","meta","hits","searchResults","docs","map","document","index","headline","main","byline","original","abstract","web_url","entry","Component"],"mappings":"4rBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,GAEqBC,CAAAA,Q,+UACjBC,K,CAAQ,CACJC,UAAU,CAAE,EADR,CAEJC,OAAO,CAAE,EAFL,CAGJC,eAAe,CAAE,EAHb,CAIJC,cAAc,CAAE,IAJZ,C,OAORC,qB,CAAwB,SAACC,CAAD,CAAO,CAC3B,MAAKC,QAAL,CAAc,CAAEN,UAAU,CAAEK,CAAC,CAACE,MAAF,CAASC,KAAvB,CAAd,EACH,C,OAEDC,W,CAAc,SAACJ,CAAD,CAAO,CACjBA,CAAC,CAACK,cAAF,GACAC,KAAK,sEAA+D,MAAKZ,KAAL,CAAWC,UAA1E,qBAAgGY,OAAO,CAACC,GAAR,CAAYC,qBAA5G,EAAL,CACCC,IADD,CACM,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADT,EAECF,IAFD,CAEM,SAAAG,IAAI,QAAI,OAAKZ,QAAL,CAAc,CAC1BL,OAAO,CAAEiB,IADiB,CAE1BhB,eAAe,CAAEgB,IAAI,CAACC,QAAL,CAAcC,IAAd,CAAmBC,IAFV,CAG1BlB,cAAc,CAAE,KAHU,CAAd,CAAJ,EAFV,EAOH,C,OAEDmB,a,CAAgB,UAAM,CAClB,MAAO,OAAKvB,KAAL,CAAWI,cAAX,cACL,2BAAK,SAAS,CAAC,sBAAf,mEADK,cAEL,4CACE,0BAAI,SAAS,CAAC,kBAAd,aADF,cAEE,2BAAK,SAAS,CAAC,YAAf,eAAuC,MAAKJ,KAAL,CAAWG,eAAlD,oBAAkF,MAAKH,KAAL,CAAWC,UAA7F,OAFF,cAGE,2BAAK,SAAS,CAAC,gBAAf,EACK,MAAKD,KAAL,CAAWE,OAAX,CAAmBkB,QAAnB,CAA4BI,IAA5B,CAAiCC,GAAjC,CAAqC,SAACC,QAAD,CAAWC,KAAX,qBAClC,2BAAK,GAAG,CAAEA,KAAV,CAAiB,EAAE,WAAK,MAAK3B,KAAL,CAAWC,UAAhB,SAA6B0B,KAA7B,CAAnB,CAAyD,SAAS,CAAC,mBAAnE,eACI,0BAAI,SAAS,CAAC,kBAAd,EAAkCD,QAAQ,CAACE,QAAT,CAAkBC,IAApD,CADJ,cAEI,0BAAI,SAAS,CAAC,gBAAd,QAAmCH,QAAQ,CAACI,MAAT,CAAgBC,QAAnD,CAFJ,cAGI,yBAAG,SAAS,CAAC,kBAAb,EAAiCL,QAAQ,CAACM,QAA1C,CAHJ,cAII,yBAAG,SAAS,CAAC,cAAb,CAA4B,IAAI,CAAEN,QAAQ,CAACO,OAA3C,CAAoD,MAAM,CAAC,QAA3D,CAAoE,GAAG,CAAC,qBAAxE,0BAJJ,cAKI,8BALJ,cAMI,8BAAQ,SAAS,CAAC,oBAAlB,CAAuC,EAAE,iBAAW,MAAKjC,KAAL,CAAWC,UAAtB,SAAmC0B,KAAnC,CAAzC,gBANJ,CADkC,EAArC,CADL,CAHF,CAFF,CAkBH,C,2EAEQ,CACL,mBACI,4CACI,0BAAI,SAAS,CAAC,cAAd,aADJ,cAEI,qDAFJ,cAGI,4BAAM,QAAQ,CAAE,KAAKjB,WAArB,eACI,6BAAO,OAAO,CAAC,SAAf,cADJ,cAEI,6BACI,IAAI,CAAC,MADT,CAEI,EAAE,CAAC,SAFP,CAGI,IAAI,CAAC,SAHT,CAII,WAAW,CAAC,UAJhB,CAKI,KAAK,CAAE,KAAKV,KAAL,CAAWkC,KALtB,CAMI,QAAQ,CAAE,KAAK7B,qBANnB,CAOI,QAAQ,KAPZ,EAFJ,cAWI,8BAXJ,cAYI,6BAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,EAZJ,CAHJ,cAiBI,+BAAM,KAAKkB,aAAL,EAAN,CAjBJ,CADJ,CAqBH,C,sBAlEiCzB,KAAK,CAACqC,S,SAAvBpC,Q","sourcesContent":["import React from 'react';\n\nexport default class Articles extends React.Component {\n    state = {\n        queryValue: '',\n        results: [],\n        numberOfResults: '',\n        resultsLoading: true,\n    };\n\n    queryValueEntryChange = (e) => {\n        this.setState({ queryValue: e.target.value });\n    }\n\n    searchQuery = (e) => {\n        e.preventDefault();\n        fetch(`https://api.nytimes.com/svc/search/v2/articlesearch.json?q=${this.state.queryValue}&api-key=${process.env.REACT_APP_NYT_API_KEY}`)\n        .then(res => res.json())\n        .then(data => this.setState({\n          results: data,\n          numberOfResults: data.response.meta.hits,\n          resultsLoading: false\n        }));\n    }\n\n    searchResults = () => {\n        return this.state.resultsLoading\n        ? <div className='searchResultsLoading'>Please complete the search above to display a list of results.</div>\n        : <div>\n            <h2 className='page-sub-heading'>Results:</h2>\n            <div className='query-info'>There are {this.state.numberOfResults} for the term \"{this.state.queryValue}\".</div>\n            <div className='search-results'>\n                {this.state.results.response.docs.map((document, index) => \n                    <div key={index} id={`${this.state.queryValue}${index}`} className='article-container'>\n                        <h3 className='article-headline'>{document.headline.main}</h3>\n                        <h4 className='article-author'>by {document.byline.original}</h4>\n                        <p className='article-abstract'>{document.abstract}</p>\n                        <a className='article-link' href={document.web_url} target=\"_blank\" rel=\"noopener noreferrer\">Read the full article</a>\n                        <br/>\n                        <button className='article-add-button' id={`addBtn${this.state.queryValue}${index}`}>Add to List</button>\n                    </div>\n                )}\n            </div>\n        </div>\n    }\n\n    render() {\n        return(\n            <div>\n                <h1 className='page-heading'>Articles</h1>\n                <h2>Add a keyword below:</h2>\n                <form onSubmit={this.searchQuery}>\n                    <label htmlFor=\"keyword\">Keyword: </label>\n                    <input\n                        type=\"text\"\n                        id=\"keyword\"\n                        name=\"keyword\"\n                        placeholder=\"election\"\n                        value={this.state.entry}\n                        onChange={this.queryValueEntryChange}\n                        required\n                    />\n                    <br/>\n                    <input type=\"submit\" value=\"Submit\" />\n                </form>\n                <div>{this.searchResults()}</div>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}