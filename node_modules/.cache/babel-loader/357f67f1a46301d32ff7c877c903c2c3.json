{"ast":null,"code":"import _classCallCheck from\"/Users/sven/course2-finalProjectJSCRIPT300A/nyt-reading-list/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sven/course2-finalProjectJSCRIPT300A/nyt-reading-list/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/sven/course2-finalProjectJSCRIPT300A/nyt-reading-list/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/sven/course2-finalProjectJSCRIPT300A/nyt-reading-list/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';var Movies=/*#__PURE__*/function(_React$Component){_inherits(Movies,_React$Component);var _super=_createSuper(Movies);function Movies(){var _this;_classCallCheck(this,Movies);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={queryValue:'',results:[],numberOfResults:'',resultsLoading:true};_this.queryValueEntryChange=function(e){_this.setState({queryValue:e.target.value});};_this.searchQuery=function(e){e.preventDefault();fetch(\"https://api.nytimes.com/svc/movies/v2/reviews/search.json?query=\".concat(_this.state.queryValue,\"&api-key=\").concat(process.env.REACT_APP_NYT_API_KEY)).then(function(res){return res.json();}).then(function(data){return _this.setState({results:data,numberOfResults:data.num_results,resultsLoading:false});});};_this.searchResults=function(){return _this.state.resultsLoading?/*#__PURE__*/React.createElement(\"div\",{className:\"searchResultsLoading\"},\"Please complete the search above to display a list of results.\"):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",{className:\"page-sub-heading\"},\"Results:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"query-info\"},\"There are \",_this.state.numberOfResults,\" for the term \\\"\",_this.state.queryValue,\"\\\".\"),/*#__PURE__*/React.createElement(\"div\",{className:\"search-results\"},_this.state.results.results.map(function(movie,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,id:\"\".concat(_this.state.queryValue).concat(index),className:\"movie-container\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"movie-title\"},movie.display_title),/*#__PURE__*/React.createElement(\"h4\",{className:\"movie-reviewer\"},\"Reviewed by \",movie.byline),/*#__PURE__*/React.createElement(\"p\",{className:\"movie-summary\"},movie.summary_short),/*#__PURE__*/React.createElement(\"a\",{className:\"movie-review-link\",href:movie.link.url,target:\"_blank\",rel:\"noopener noreferrer\"},\"Read the full review\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{className:\"movie-add-button\",id:\"addBtn\".concat(_this.state.queryValue).concat(index)},\"Add to List\"));})));};return _this;}_createClass(Movies,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",{className:\"page-heading\"},\"Movies\"),/*#__PURE__*/React.createElement(\"h2\",null,\"Add a keyword below:\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.searchQuery},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"keyword\"},\"Keyword: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"keyword\",name:\"keyword\",placeholder:\"lebowski\",value:this.state.entry,onChange:this.queryValueEntryChange,required:true}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Submit\"})),/*#__PURE__*/React.createElement(\"div\",null,this.searchResults()));}}]);return Movies;}(React.Component);export{Movies as default};","map":{"version":3,"sources":["/Users/sven/course2-finalProjectJSCRIPT300A/nyt-reading-list/src/movies.js"],"names":["React","Movies","state","queryValue","results","numberOfResults","resultsLoading","queryValueEntryChange","e","setState","target","value","searchQuery","preventDefault","fetch","process","env","REACT_APP_NYT_API_KEY","then","res","json","data","num_results","searchResults","map","movie","index","display_title","byline","summary_short","link","url","entry","Component"],"mappings":"4rBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,GAEqBC,CAAAA,M,uUACjBC,K,CAAQ,CACJC,UAAU,CAAE,EADR,CAEJC,OAAO,CAAE,EAFL,CAGJC,eAAe,CAAE,EAHb,CAIJC,cAAc,CAAE,IAJZ,C,OAORC,qB,CAAwB,SAACC,CAAD,CAAO,CAC3B,MAAKC,QAAL,CAAc,CAAEN,UAAU,CAAEK,CAAC,CAACE,MAAF,CAASC,KAAvB,CAAd,EACH,C,OAEDC,W,CAAc,SAACJ,CAAD,CAAO,CACjBA,CAAC,CAACK,cAAF,GACAC,KAAK,2EAAoE,MAAKZ,KAAL,CAAWC,UAA/E,qBAAqGY,OAAO,CAACC,GAAR,CAAYC,qBAAjH,EAAL,CACCC,IADD,CACM,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADT,EAECF,IAFD,CAEM,SAAAG,IAAI,QAAI,OAAKZ,QAAL,CAAc,CAC1BL,OAAO,CAAEiB,IADiB,CAE1BhB,eAAe,CAAEgB,IAAI,CAACC,WAFI,CAG1BhB,cAAc,CAAE,KAHU,CAAd,CAAJ,EAFV,EAOH,C,OAEDiB,a,CAAgB,UAAM,CAClB,MAAO,OAAKrB,KAAL,CAAWI,cAAX,cACL,2BAAK,SAAS,CAAC,sBAAf,mEADK,cAEL,4CACE,0BAAI,SAAS,CAAC,kBAAd,aADF,cAEE,2BAAK,SAAS,CAAC,YAAf,eAAuC,MAAKJ,KAAL,CAAWG,eAAlD,oBAAkF,MAAKH,KAAL,CAAWC,UAA7F,OAFF,cAGE,2BAAK,SAAS,CAAC,gBAAf,EACK,MAAKD,KAAL,CAAWE,OAAX,CAAmBA,OAAnB,CAA2BoB,GAA3B,CAA+B,SAACC,KAAD,CAAQC,KAAR,qBAC5B,2BAAK,GAAG,CAAEA,KAAV,CAAiB,EAAE,WAAK,MAAKxB,KAAL,CAAWC,UAAhB,SAA6BuB,KAA7B,CAAnB,CAAyD,SAAS,CAAC,iBAAnE,eACI,0BAAI,SAAS,CAAC,aAAd,EAA6BD,KAAK,CAACE,aAAnC,CADJ,cAEI,0BAAI,SAAS,CAAC,gBAAd,iBAA4CF,KAAK,CAACG,MAAlD,CAFJ,cAGI,yBAAG,SAAS,CAAC,eAAb,EAA8BH,KAAK,CAACI,aAApC,CAHJ,cAII,yBAAG,SAAS,CAAC,mBAAb,CAAiC,IAAI,CAAEJ,KAAK,CAACK,IAAN,CAAWC,GAAlD,CAAuD,MAAM,CAAC,QAA9D,CAAuE,GAAG,CAAC,qBAA3E,yBAJJ,cAKI,8BALJ,cAMI,8BAAQ,SAAS,CAAC,kBAAlB,CAAqC,EAAE,iBAAW,MAAK7B,KAAL,CAAWC,UAAtB,SAAmCuB,KAAnC,CAAvC,gBANJ,CAD4B,EAA/B,CADL,CAHF,CAFF,CAkBH,C,yEAEQ,CACL,mBACI,4CACI,0BAAI,SAAS,CAAC,cAAd,WADJ,cAEI,qDAFJ,cAGI,4BAAM,QAAQ,CAAE,KAAKd,WAArB,eACI,6BAAO,OAAO,CAAC,SAAf,cADJ,cAEI,6BACI,IAAI,CAAC,MADT,CAEI,EAAE,CAAC,SAFP,CAGI,IAAI,CAAC,SAHT,CAII,WAAW,CAAC,UAJhB,CAKI,KAAK,CAAE,KAAKV,KAAL,CAAW8B,KALtB,CAMI,QAAQ,CAAE,KAAKzB,qBANnB,CAOI,QAAQ,KAPZ,EAFJ,cAWI,8BAXJ,cAYI,6BAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,EAZJ,CAHJ,cAiBI,+BAAM,KAAKgB,aAAL,EAAN,CAjBJ,CADJ,CAqBH,C,oBAlE+BvB,KAAK,CAACiC,S,SAArBhC,M","sourcesContent":["import React from 'react';\n\nexport default class Movies extends React.Component {\n    state = {\n        queryValue: '',\n        results: [],\n        numberOfResults: '',\n        resultsLoading: true\n    };\n\n    queryValueEntryChange = (e) => {\n        this.setState({ queryValue: e.target.value });\n    }\n\n    searchQuery = (e) => {\n        e.preventDefault();\n        fetch(`https://api.nytimes.com/svc/movies/v2/reviews/search.json?query=${this.state.queryValue}&api-key=${process.env.REACT_APP_NYT_API_KEY}`)\n        .then(res => res.json())\n        .then(data => this.setState({\n          results: data,\n          numberOfResults: data.num_results,\n          resultsLoading: false\n        }));\n    }\n\n    searchResults = () => {\n        return this.state.resultsLoading\n        ? <div className='searchResultsLoading'>Please complete the search above to display a list of results.</div>\n        : <div>\n            <h2 className='page-sub-heading'>Results:</h2>\n            <div className='query-info'>There are {this.state.numberOfResults} for the term \"{this.state.queryValue}\".</div>\n            <div className='search-results'>\n                {this.state.results.results.map((movie, index) => \n                    <div key={index} id={`${this.state.queryValue}${index}`} className='movie-container'>\n                        <h3 className='movie-title'>{movie.display_title}</h3>\n                        <h4 className='movie-reviewer'>Reviewed by {movie.byline}</h4>\n                        <p className='movie-summary'>{movie.summary_short}</p>\n                        <a className='movie-review-link' href={movie.link.url} target=\"_blank\" rel=\"noopener noreferrer\">Read the full review</a>\n                        <br/>\n                        <button className='movie-add-button' id={`addBtn${this.state.queryValue}${index}`}>Add to List</button>\n                    </div>\n                )}\n            </div>\n        </div>\n    }\n\n    render() {\n        return(\n            <div>\n                <h1 className='page-heading'>Movies</h1>\n                <h2>Add a keyword below:</h2>\n                <form onSubmit={this.searchQuery}>\n                    <label htmlFor=\"keyword\">Keyword: </label>\n                    <input\n                        type=\"text\"\n                        id=\"keyword\"\n                        name=\"keyword\"\n                        placeholder=\"lebowski\"\n                        value={this.state.entry}\n                        onChange={this.queryValueEntryChange}\n                        required\n                    />\n                    <br/>\n                    <input type=\"submit\" value=\"Submit\" />\n                </form>\n                <div>{this.searchResults()}</div>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}